

target_default: 1_fetch

packages:
  - scipiper
  - dplyr

sources:
  - 1_fetch/src/fetch_utils.R

targets:
  1_fetch:
    depends:
      - nml_list
      - model_ids

  # relies on the .csv contents of '../lake-temperature-model-prep/7_drivers_munge/out'
  nml_list:
    command: filter_nml_list('../lake-temperature-model-prep/7_config_merge/out/nml_list.rds')

  # note that including Kw drops modeled lakes from 13,384 to 6,922
  model_ids:
    command: names(nml_list)
